!function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2)}([function(t,e,i){},function(t,e,i){"use strict";var n=i(0);i.n(n).a},function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("k-field",t._b({staticClass:"k-link-field"},"k-field",t.$props,!1),[t.hasSettings?i("k-button",{attrs:{slot:"options",icon:t.isMainScreen?"cog":"cancel"},on:{click:t.switchScreen},slot:"options"},[t._v(" "+t._s(t.isMainScreen?t.$t("label.settings"):t.$t("label.close"))+" ")]):t._e(),t.isMainScreen?i("LinkSelect",{attrs:{width:t.width,options:t.options,endpoints:t.endpoints},on:{input:t.emitInput},model:{value:t.link,callback:function(e){t.link=e},expression:"link"}}):i("LinkSettings",{attrs:{types:t.settings},on:{input:t.emitInput},model:{value:t.settingsData,callback:function(e){t.settingsData=e},expression:"settingsData"}})],1)};n._withStripped=!0;var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("k-grid",[t.showSelect?i("k-column",{attrs:{width:t.uiWidth.select}},[i("k-select-field",{attrs:{type:"select",options:t.types,empty:!1},on:{input:t.inputType},model:{value:t.data.type,callback:function(e){t.$set(t.data,"type",e)},expression:"data.type"}})],1):t._e(),i("k-column",{attrs:{width:t.uiWidth.field}},["url"===t.data.type?i("k-url-field",{attrs:{placeholder:"https://example.com/"},model:{value:t.data.value,callback:function(e){t.$set(t.data,"value",e)},expression:"data.value"}}):"page"===t.data.type?i("k-pages-field",{attrs:{endpoints:{field:this.endpoints.field+"/pages"}},model:{value:t.data.value,callback:function(e){t.$set(t.data,"value",e)},expression:"data.value"}}):"file"===t.data.type?i("k-files-field",{attrs:{endpoints:{field:this.endpoints.field+"/files"}},model:{value:t.data.value,callback:function(e){t.$set(t.data,"value",e)},expression:"data.value"}}):"email"===t.data.type?i("k-email-field",{model:{value:t.data.value,callback:function(e){t.$set(t.data,"value",e)},expression:"data.value"}}):"tel"===t.data.type?i("k-tel-field",{model:{value:t.data.value,callback:function(e){t.$set(t.data,"value",e)},expression:"data.value"}}):i("k-box",{attrs:{theme:"negative",text:t.$t("error.type",{type:t.data.type})}})],1)],1)};a._withStripped=!0;var s={props:{value:Object,options:Array,endpoints:Object,width:String},data:function(){return{data:this.value,updating:!1}},computed:{showSelect:function(){return this.types.length>1},widthPercent:function(){var t=this.width.split("/");return(t[0]||1)/(t[1]||1)*100},uiWidth:function(){var t=this.widthPercent>=50;return{select:t?"1/4":"1/1",field:this.showSelect?t?"3/4":"1/1":null}},types:function(){return this.options.map(function(t){return{value:t,text:this.$t(t)}}.bind(this))}},methods:{inputType:function(){this.data.value=void 0}},watch:{data:{deep:!0,handler:function(t){this.updating||this.$emit("input",t)}},value:function(t){this.updating=!0,Object.assign(this.data,t),this.$nextTick(function(){this.updating=!1}.bind(this))}}};i(1);function l(t,e,i,n,a,s,l,r){var o,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=i,u._compiled=!0),n&&(u.functional=!0),s&&(u._scopeId="data-v-"+s),l?(o=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(l)},u._ssrRegister=o):a&&(o=r?function(){a.call(this,this.$root.$options.shadowRoot)}:a),o)if(u.functional){u._injectStyles=o;var p=u.render;u.render=function(t,e){return o.call(e),p(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,o):[o]}return{exports:t,options:u}}var r=l(s,a,[],!1,null,"1199651c",null);r.options.__file="app/LinkSelect.vue";var o=r.exports,u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"k-structure-form"},[i("k-form",{staticClass:"k-structure-form-fields",attrs:{fields:t.fields},on:{input:function(e){return t.$emit("input",t.data)}},model:{value:t.data,callback:function(e){t.data=e},expression:"data"}})],1)};u._withStripped=!0;var p=l({props:{value:Object,types:Object},data:function(){return{data:this.value}},computed:{fields:function(){var t={},e={text:{width:"1/2",type:"text",label:this.$t("label.text")},popup:{width:"1/4",type:"toggle",label:this.$t("label.popup")},hash:{width:"1/4",type:"text",label:this.$t("label.fragment"),placeholder:this.$t("placeholder.elementid")}};for(var i in this.types)e[i]&&this.types[i]&&(t[i]=Object.assign(e[i],this.types[i]));for(var i in e)t[i]||!1===this.types[i]||(t[i]=e[i]);return t}},watch:{value:function(t){Object.assign(this.data,t)}}},u,[],!1,null,null,null);p.options.__file="app/LinkSettings.vue";var d=l({components:{LinkSelect:o,LinkSettings:p.exports},props:{value:Object,endpoints:Object,width:String,label:String,help:String,disabled:Boolean,options:Array,settings:Object},data:function(){return{data:this.value||{type:this.options[0]||"url"},screen:"link"}},computed:{link:{get:function(){return{type:this.data.type,value:this.data.value}},set:function(t){Object.assign(this.data,t)}},settingsData:{get:function(){return{text:this.data.text,popup:this.data.popup,hash:this.data.hash}},set:function(t){Object.assign(this.data,t)}},isMainScreen:function(){return"link"===this.screen},hasSettings:function(){return!1!==this.settings}},methods:{emitInput:function(){this.$emit("input",this.data)},switchScreen:function(){this.screen=this.isMainScreen?"options":"link"}},watch:{value:function(t){this.data=Object.assign({},t)},data:{deep:!0,immediate:!0,handler:function(){this.options.indexOf(this.data.type)<0&&(this.data.type=this.options[0],this.data.value=void 0),this.data.type.match(/page|file/)&&!Array.isArray(this.data.value)&&(this.data.value=void 0),this.data.value||(this.data.value=void 0)}}}},n,[],!1,null,null,null);d.options.__file="app/App.vue";var c=d.exports,f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.linkValue?i("div",[t.isArray(t.linkValue)?["page"===t.linkType?i("k-pages-field-preview",t._b({attrs:{value:t.linkValue}},"k-pages-field-preview",t.$props,!1)):"file"===t.linkType?i("k-files-field-preview",t._b({attrs:{value:t.linkValue}},"k-files-field-preview",t.$props,!1)):t._e()]:i("p",{staticClass:"k-structure-table-text k-url-field-preview"},["url"===t.linkType?i("a",{staticClass:"k-link",attrs:{href:t.linkValue,target:"_blank"},on:{click:t.handleClick}},[t._v(" "+t._s(t.value.text||t.linkValue)+" ")]):[t.value.text?[i("strong",[t._v(t._s(t.value.text))]),t._v(" "+t._s(t.linkValue)+" ")]:[t._v(" "+t._s(t.linkValue)+" ")]]],2)],2):t._e()};f._withStripped=!0;var h=l({props:{value:Object,field:Object},computed:{linkType:function(){return this.value&&this.value.type},linkValue:function(){return this.value&&this.value.value}},methods:{isArray:Array.isArray,handleClick:function(t){t.stopImmediatePropagation()}}},f,[],!1,null,null,null);h.options.__file="app/Preview.vue";var v=h.exports;panel.plugin("medienbaecker/link",{fields:{link:c},components:{"k-link-field-preview":v}})}]);